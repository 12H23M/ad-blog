---
title: "OWL — AI 코인 자동매매 시스템을 만들었다"
description: "감정적 매매에 지쳐서 직접 만든 코인 자동매매 봇. 기술 스택, 아키텍처, 전략 소개와 왜 이걸 시작했는지에 대한 이야기."
pubDate: "2026-02-28"
lang: "ko"
category: "system"
series: "building-owl"
seriesOrder: 1
translationOf: "owl-introduction-en"
tags: ["OWL", "자동매매", "crypto", "trading-bot", "Python", "시스템소개"]
draft: false
---

# OWL — AI 코인 자동매매 시스템을 만들었다

## 왜 만들었나

솔직하게 말하자면, 코인 수동 매매로 돈을 잃었다.

차트를 보면서 "여기가 바닥이다" 싶어서 들어가면 더 떨어지고, "이번엔 확실하다" 싶어서 레버리지를 넣으면 청산당했다. 한 번은 새벽 3시에 포지션 걱정에 잠을 못 자고 화장실에서 폰으로 차트를 확인하다가 깨달았다 — 이건 투자가 아니라 도박이다.

문제는 시장이 아니었다. **문제는 나였다.** 감정이 개입하는 순간 판단이 흐려진다. FOMO(놓칠까 봐 두려움)에 추격 매수하고, 공포에 손절하지 못하고, 한 번 이기면 자신감이 과해지고, 한 번 지면 복수 매매를 한다.

그래서 생각했다 — 감정을 아예 제거하면 어떨까? 규칙을 정해놓고, 그 규칙대로만 매매하는 시스템을 만들면?

그게 OWL의 시작이다.

## OWL이 뭔가

**OWL(Overnight Watch & Logic)**은 24시간 자동으로 암호화폐를 매매하는 봇이다. 내가 자는 동안에도, 일하는 동안에도, 시스템이 시장을 감시하고 조건이 맞으면 진입하고, 목표에 도달하면 정리한다.

올빼미(Owl)처럼 밤새 깨어서 시장을 지켜본다는 의미도 있다.

핵심 원칙은 세 가지:
1. **감정 배제** — 모든 진입/청산은 사전에 정의된 규칙으로만
2. **리스크 관리 우선** — 한 번의 거래로 전체를 잃지 않는 구조
3. **투명한 기록** — 모든 거래를 기록하고 분석할 수 있게

## 기술 스택

아무것도 없는 상태에서 시작했다. 대단한 인프라가 필요한 게 아니다:

- **Python 3.9** — 메인 언어. 빠른 프로토타이핑에 최고
- **ccxt** — 거래소 API를 하나의 인터페이스로 통합해주는 라이브러리
- **OKX** — 메인 거래소. 데모 트레이딩 지원이 결정적이었다
- **Supabase (PostgreSQL)** — 거래 기록 저장. 무료 티어로 충분
- **Discord** — 실시간 알림. 포지션 진입/청산할 때마다 메시지가 온다
- **Mac mini** — 24시간 돌아가는 서버. 클라우드 비용 0원

<!-- diagram: tech-stack-overview -->

전부 무료이거나 이미 가지고 있는 것들이다. 월 운영비는 사실상 전기세뿐.

## 아키텍처

시스템은 크게 다섯 부분으로 나뉜다:

### 1. 스크리너 (Screener)
시장 전체를 훑어서 거래할 만한 종목을 걸러낸다. 현재는 BTC/USDT와 ETH/USDT에 집중하고 있다. 대형 코인이 유동성도 좋고 기술적 분석이 더 잘 먹힌다는 걸 경험으로 배웠다. (DOGE 같은 밈코인은 파동 분석이 거의 무의미하다)

### 2. 전략 엔진 (Strategy Engine)
핵심 두뇌. 각 전략은 독립적인 클래스로 구현되어 있고, `strategy_manager`가 전체를 관리한다. 전략마다 자기만의 진입 조건, 청산 조건, 리스크 파라미터를 가진다.

현재 활성화된 전략은 4개:

**① Martingale Fibonacci (martingale_fib_v1)**
- 피보나치 되돌림 38.2~61.8% 구간(골든존)에서 진입
- RSI 다이버전스로 추세 반전 확인
- 마틴게일 방식으로 손실 시 단계적 증액 (최대 5단계)
- 승리하면 원래 크기로 리셋

**② Fibonacci Swing (fib_divergence_swing_v1)**
- 4시간 타임프레임 스윙 트레이딩
- 피보나치 골든존 + RSI 다이버전스
- 롱/숏 양방향 진입

**③④ Consensus (3of5, 4of5)**
- 5개 인디케이터(EMA, RSI, MACD, 볼린저밴드, 스토캐스틱) 중 3개 또는 4개가 동의할 때만 진입
- 3of5는 적극적(ETH), 4of5는 보수적(BTC)

<!-- diagram: architecture-overview -->

### 3. 실행기 (Executor)
전략이 "매수" 또는 "매도" 시그널을 보내면 실제 거래소 주문을 넣는다. ccxt를 통해 OKX API를 호출한다.

### 4. 리스크 매니저 (Risk Manager)
이게 가장 중요하다. 아무리 좋은 전략도 리스크 관리 없으면 한 방에 날아간다.

- **거래당 리스크:** 전체 자본의 1%
- **일일 최대 손실:** 3% (넘으면 그날 매매 중지)
- **킬스위치:** 비상 시 모든 포지션 즉시 정리
- **레버리지:** 최대 3배 (보수적)
- **청산 시스템:** TP(이익실현), SL(손절), 트레일링 스탑, 브레이크이벤 스탑, 시간 기반 청산

### 5. 알림 & 기록 (Notifier & Storage)
모든 진입/청산은 Discord로 실시간 알림이 온다. 거래 기록은 Supabase에 저장되어 나중에 분석할 수 있다.

알림 예시:
```
[🟡 DEMO] 📈 LONG 진입
BTC/USDT | martingale_fib_v1
진입가: $84,230.5 | 크기: 0.015 BTC
TP: $85,915.1 (+2.0%) | SL: $82,967.0 (-1.5%)
```

## 데모 → 실전 전략

OKX의 데모 트레이딩 기능이 정말 유용하다. 실제 시장 데이터로 가상 자금을 거래할 수 있어서, 전략을 실제로 돌려보고 검증한 후에 실전에 투입할 수 있다.

현재 데모에 $14,000를 투입해서 4개 전략을 돌리고 있다. 충분한 데이터가 쌓이면(최소 100거래, 1개월 이상) 실전으로 승격하는 프로세스가 있다.

## 지금까지 배운 것들

2주간 개발하면서 배운 교훈들:

1. **15분봉 EMA 크로스 = 과거래.** 시그널이 너무 많이 나와서 수수료만 내다가 끝난다. 최소 1시간봉 이상을 써야 한다.
2. **하락장에서 롱만 치면 망한다.** 숏을 칠 수 있어야 한다. 양방향은 필수.
3. **피보나치 골든존은 진짜 작동한다.** 38.2~61.8% 되돌림 구간이 반등 포인트인 경우가 체감상 많다.
4. **소형 알트코인은 기술적 분석이 안 먹힌다.** 파동 구조가 없다. BTC, ETH 같은 대형주에서만 의미 있다.
5. **리스크 관리가 전략보다 중요하다.** 승률 30%짜리 전략도 리스크 관리가 좋으면 수익이 나고, 승률 70%짜리도 한 번의 폭발로 전부 잃을 수 있다.

## 백테스트 결과 (간략)

| 전략 | 기간 | 수익률 | 승률 | MDD | Profit Factor |
|------|------|--------|------|-----|---------------|
| martingale_fib_v1 | BTC 180일 | +3.96% | 49.3% | 5.28% | 1.37 |
| fib_swing_v1 | BTC 180일 | +0.77% | 42.9% | 2.2% | 1.16 |
| consensus_3of5 | ETH 90일 | +9.17% | 52% | 3.07% | 1.50 |

화려하지 않다. 그게 현실이다. 월 100% 수익 같은 건 사기이거나 운이다. 꾸준히 소소하게 수익을 내는 시스템이 진짜다.

## 앞으로의 계획

이 블로그에서는 OWL의 모든 것을 공개한다:
- 매일 매매 기록과 수익률
- 새로운 전략 개발 과정
- 실패와 버그 수정 이야기
- 코드 스니펫과 기술적 설명

완벽한 시스템 같은 건 없다. 만들어가는 과정 자체가 가치 있다고 생각한다. 같이 지켜봐 달라.

---

*다음 글: OWL의 첫 번째 전략 — 마틴게일 피보나치는 어떻게 작동하는가*
